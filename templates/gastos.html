<!-- gastos.html -->
<!DOCTYPE html>
<html>
  <head>
    <title>Gastos</title>
  </head>
  <body>
    <h1>Registrar Gasto</h1>
    <form action="/gasto/nuevo" method="post">
      Descripci√≥n: <input type="text" name="descripcion" /><br />
      Monto: <input type="number" name="monto" step="any" /><br />
      <input type="submit" value="Registrar Gasto" />
    </form>

    <h2>Gastos Registrados</h2>
    <ul>
      {% for gasto in gastos %}
      <li>
        {{ gasto.descripcion }}: ${{ gasto.monto }} - Estado: {{ gasto.estado }}
        {% if gasto.estado == 'pendiente' %}
        <a href="/gasto/aprobar/{{ gasto.id }}">Aprobar</a>
        <a href="/gasto/cancelar/{{ gasto.id }}">Cancelar</a>
        {% elif gasto.estado == 'aprobado' and not gasto.pago_generado %}
        <a href="/pago/generar/{{ gasto.id }}">Generar Pago</a>
        {% endif %}
      </li>
      {% endfor %}
    </ul>
  </body>
</html>
